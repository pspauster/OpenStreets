"0",""
"0","intersections_lines <- intersections_filled %>%"
"0","  filter(!is.na(lat_from) & !is.na(lat_to) & !is.na(long_from) & !is.na(long_to)) %>% "
"0","  select(starts_with(""long_"")|starts_with(""lat_""), id)"
"0",""
"0","from <- intersections_lines %>% select(""long_from"", ""lat_from"") %>% "
"0","  rename(long = ""long_from"", lat = ""lat_from"")"
"0",""
"0","to <- intersections_lines %>% select(""long_to"", ""lat_to"") %>% "
"0","  rename(long = ""long_to"", lat = ""lat_to"")"
"0",""
"0","intersections_lines$geometry = do.call("
"0","  ""c"","
"0","  lapply(seq(nrow(from)), function(i) {"
"0","    st_sfc("
"0","      st_linestring("
"0","        as.matrix("
"0","          rbind(from[i, ], to[i, ])"
"0","        )"
"0","      ),"
"0","      crs = 4326"
"0","    )"
"0","  })"
"0",")"
"0",""
"0","lines_sf <- st_as_sf(intersections_lines)"
"0",""
"0","open_streets_sf <- left_join(intersections_filled, lines_sf, by = ""id"")"
"0",""
