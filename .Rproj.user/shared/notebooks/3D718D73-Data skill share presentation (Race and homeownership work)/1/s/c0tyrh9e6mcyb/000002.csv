"0","#### 2000 Decenial Census data"
"0","# Searching census codes"
"0","v2000 <- load_variables(2000, ""sf1"", cache = TRUE)"
"0","#write_csv(v2000, ""v2000.csv"")"
"0",""
"0","#Creating a dataframe that has all the 2000 variables "
"0","variables_df <- c("
"0","     ""P001001"", #pop_2000"
"0","     ""P008003"", #pop_white_nh_2000"
"0","     ""P008004"", #pop_black_nh_2000"
"0","     ""P008006"", #pop_asian_nh_2000"
"0","     ""P008010"", #pop_hispanic_2000"
"0","    ""H015I002"",#	homeowner_nonHisp_white_est2000"
"0","    ""H015I001"",#	count_nonHisp_white_est2000"
"0","    ""H015B002"",#	homeowner_Black_est2000"
"0","    ""H015B001"",#	count_Black_est2000"
"0","    ""H015D002"",#	homeowner_Asian_est2000"
"0","    ""H015D001"", #	count_Asian_est2000"
"0","    ""H015H002"",#	homeowner_Latino_est2000"
"0","    ""H015H001"",#	count_Latino_est2000"
"0","    ""H004002"",#	homeowner_est2000"
"0","    ""H004001"" #	count_households_est2000"
"0","  )"
"0","# Pulling the 2000 variables from ACS"
"0","variables_2000_list <- map(variables_df, function(x) "
"0","  {(variables_2000 <- get_decennial("
"0","  geography = ""place"","
"0","  year = 2000,"
"0","  sumfile = ""sf1"","
"0","  output = ""wide"","
"0","  key = census_api_key,"
"0","  variables = x))})"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"2","Getting data from the 2000 decennial Census
"
"2","Using Census Summary File 1
"
"0","census_2000 <- reduce(variables_2000_list,left_join, by = c(""GEOID"", ""NAME""))"
"0",""
"0","# Select variables needed for the analysis below"
"0","census_2000 <- census_2000 %>%"
"0","  select("
"0","    geoid = ""GEOID"","
"0","    pop_2000 = ""P001001"", #"
"0","    pop_white_nh_2000 = ""P008003"", #"
"0","    pop_black_nh_2000 = ""P008004"", #"
"0","    pop_asian_nh_2000 = ""P008006"", #"
"0","    pop_hispanic_2000 = ""P008010"", #"
"0","   homeowner_nonHisp_white_est2000 = ""H015I002"","
"0","    count_nonHisp_white_est2000= ""H015I001"","
"0","    homeowner_Black_est2000 = ""H015B002"",#	"
"0","    count_Black_est2000 = ""H015B001"",#	"
"0","    homeowner_Asian_est2000 = ""H015D002"",#	"
"0","    count_Asian_est2000 = ""H015D001"", #	"
"0","    homeowner_Latino_est2000 = ""H015H002"",#	"
"0","    count_Latino_est2000 = ""H015H001"",#	"
"0","    homeowner_est2000 = ""H004002"",#	"
"0","    household_count_est2000 = ""H004001"" #	"
"0","  )"
"0","census_2000 <- census_2000 %>%"
"0","  mutate(homeowner_rate_nonHisp_white2000 = (homeowner_nonHisp_white_est2000 / count_nonHisp_white_est2000),"
"0","         homeowner_rate_Black2000 = (homeowner_Black_est2000 / count_Black_est2000),"
"0","         homeowner_rate_Asian2000 = (homeowner_Asian_est2000 / count_Asian_est2000),"
"0","         homeowner_rate_Latino2000 = (homeowner_Latino_est2000 / count_Latino_est2000),"
"0","         homeowner_rate2000 = (homeowner_est2000 / household_count_est2000)"
"0","         )"
"0",""
"0",""
"0","##Pull 2000 decennial Census median rent figures"
"0","median_hh_income_Black_2000 <-"
"0","  fromJSON(paste0(""https://api.census.gov/data/2000/dec/sf3?get=P152B001,NAME&for=place:*&key="", census_api_key))%>%"
"0","  as_tibble() %>%"
"0","  transmute("
"0","    median_hh_income_Black_2000 = V1,"
"0","    geoid = str_glue(""{V3}{V4}"")"
"0","  ) %>%"
"0","  filter(median_hh_income_Black_2000 != ""P152B001"")%>%"
"0","  mutate("
"0","    median_hh_income_Black_2000 = as.numeric(median_hh_income_Black_2000)"
"0","  )"
"0","##Pull 2000 decennial Census median rent figures"
"0","median_hh_income_white_nh_2000 <-"
"0","  fromJSON(paste0(""https://api.census.gov/data/2000/dec/sf3?get=P152I001,NAME&for=place:*&key="", census_api_key)) %>%"
"0","  as_tibble() %>%"
"0","  transmute("
"0","    median_hh_income_white_nh_2000 = V1,"
"0","    geoid = str_glue(""{V3}{V4}"")"
"0","  ) %>%"
"0","  filter(median_hh_income_white_nh_2000 != ""P152I001"")%>%"
"0","  mutate("
"0","    median_hh_income_white_nh_2000 = as.numeric(median_hh_income_white_nh_2000)"
"0","  )"
"0","##Pull 2000 decennial Census median rent figures"
"0","median_hh_income_Asian_2000 <-"
"0","  fromJSON(paste0(""https://api.census.gov/data/2000/dec/sf3?get=P152D001,NAME&for=place:*&key="", census_api_key)) %>%"
"0","  as_tibble() %>%"
"0","  transmute("
"0","    median_hh_income_Asian_2000 = V1,"
"0","    geoid = str_glue(""{V3}{V4}"")"
"0","  ) %>%"
"0","  filter(median_hh_income_Asian_2000 != ""P152D001"")%>%"
"0","  mutate("
"0","    median_hh_income_Asian_2000 = as.numeric(median_hh_income_Asian_2000)"
"0","  )"
"0","##Pull 2000 decennial Census median rent figures"
"0","median_hh_income_hispanic_2000 <-"
"0","  fromJSON(paste0(""https://api.census.gov/data/2000/dec/sf3?get=P152H001,NAME&for=place:*&key="", census_api_key)) %>%"
"0","  as_tibble() %>%"
"0","  transmute("
"0","    median_hh_income_hispanic_2000 = V1,"
"0","    geoid = str_glue(""{V3}{V4}"")"
"0","  ) %>%"
"0","  filter(median_hh_income_hispanic_2000 != ""P152H001"")%>%"
"0","  mutate("
"0","    median_hh_income_hispanic_2000 = as.numeric(median_hh_income_hispanic_2000)"
"0","  )"
"0","median_value_own_occ_2000 <-"
"0","  fromJSON(paste0(""https://api.census.gov/data/2000/dec/sf3?get=H085001,NAME&for=place:*&key="", census_api_key)) %>%"
"0","  as_tibble() %>%"
"0","  transmute("
"0","    median_value_own_occ_2000 = V1,"
"0","    geoid = str_glue(""{V3}{V4}"")"
"0","  ) %>%"
"0","  filter(median_value_own_occ_2000 != ""H085001"")%>%"
"0","  mutate("
"0","    median_value_own_occ_2000 = as.numeric(median_value_own_occ_2000)"
"0","  )"
"0",""
"0",""
"0","# Join 2000 data"
"0","census_2000 <- census_2000 %>%"
"0","  full_join(median_hh_income_Black_2000, by = ""geoid"")%>%"
"0","  full_join(median_hh_income_white_nh_2000, by = ""geoid"")%>%"
"0","  full_join(median_hh_income_Asian_2000, by = ""geoid"")%>%"
"0","  full_join(median_hh_income_hispanic_2000, by = ""geoid"")%>%"
"0","  full_join(median_value_own_occ_2000, by = ""geoid"")"
"0",""
"0","# Adjust for inflation using the CPi (The CPI is defined in ""Define External Variables"")"
"0","census_2000 <- census_2000 %>%"
"0","  mutate(median_hh_income_Black_2000_norm = CPI * median_hh_income_Black_2000,"
"0","         median_hh_income_white_nh_2000_norm = CPI * median_hh_income_white_nh_2000,"
"0","         median_hh_income_Asian_2000_norm = CPI * median_hh_income_Asian_2000,"
"0","         median_hh_income_hispanic_2000_norm = CPI * median_hh_income_hispanic_2000,"
"0","         median_value_own_occ_2000_norm = CPI * median_value_own_occ_2000)"
"0",""
