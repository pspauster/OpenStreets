"0","# Searching census codes for 2015-19"
"0","v19 <- load_variables(2019, ""acs5"", cache = TRUE)"
"0",""
"0","##pull 2015-19 ACS place-level data from API using get_acs"
"0","census_2019 <- get_acs("
"0","  geography = ""place"","
"0","  year = 2019,"
"0","  survey = ""acs5"","
"0","  output = ""wide"","
"0","  geometry = FALSE,"
"0","  moe_sum = FALSE,"
"0","  key = census_api_key,"
"0","  variables = c("
"0","    ""B01003_001E"", # pop_num,"
"0","    ""B03002_006E"", # pop_race_asian_num"
"0","    ""B03002_004E"", # pop_race_black_num"
"0","    ""B03002_012E"", # pop_race_hisp_num"
"0","    ""B03002_003E"", # pop_race_white_num"
"0","    ""B25003H_002E"", # homeowner_nonHisp_white_est"
"0","    ""B25003H_001E"", # count_nonHisp_white_est"
"0","    ""B25003B_002E"", # homeowner_Black_est"
"0","    ""B25003B_001E"", # count_Black_est"
"0","    ""B25003D_002E"", # homeowner_Asian_est"
"0","    ""B25003D_001E"", # count_Asian_est"
"0","    ""B25003I_002E"", # homeowner_Latino_est"
"0","    ""B25003I_001E"", # count_Latino_est"
"0","    ""B25003_002E"", #homeowner_est "
"0","    ""B25003_001E"", #household_count_est"
"0","    ""B19013B_001E"", # median_household_income_Black"
"0","    ""B19013H_001E"", # median_household_income_white"
"0","    ""B19013D_001E"", # median_household_income_Asian"
"0","    ""B19013I_001E"", # median_household_income_Hispanic"
"0","    ""B25077_001E"" #median_value_own_occ"
"0",""
"0","  )"
"0",") "
"2","Getting data from the 2015-2019 5-year ACS
"
"0","##create city size groupings"
"0","census_2019 <- census_2019 %>%"
"0","  mutate(size_type_update = case_when("
"0","    B01003_001E >= 50000 & B01003_001E < 500000 ~ ""Small and midsize cities  (50k-500k)"","
"0","    B01003_001E >= 500000 ~ ""Large cities (500k +)"""
"0","  )) %>%"
"0","  filter(!is.na(size_type_update))"
"0",""
"0","# Select variables needed for the analysis below"
"0","census_2019 <- census_2019 %>%"
"0","  select("
"0","    geoid = ""GEOID"","
"0","    NAME,"
"0","    pop_num =  ""B01003_001E"", "
"0","    pop_race_asian_num = ""B03002_006E"", "
"0","    pop_race_black_num = ""B03002_004E"", "
"0","    pop_race_hisp_num = ""B03002_012E"", "
"0","    pop_race_white_num  = ""B03002_003E"", "
"0","    homeowner_nonHisp_white_est = ""B25003H_002E"", "
"0","    count_nonHisp_white_est = ""B25003H_001E"", "
"0","    homeowner_Black_est = ""B25003B_002E"", "
"0","    count_Black_est = ""B25003B_001E"", "
"0","    homeowner_Asian_est = ""B25003D_002E"", "
"0","    count_Asian_est = ""B25003D_001E"", "
"0","    homeowner_Latino_est = ""B25003I_002E"", "
"0","    count_Latino_est = ""B25003I_001E"", "
"0","    homeowner_est = ""B25003_002E"", #homeowner_est "
"0","    household_count_est = ""B25003_001E"", #household_count_est"
"0","    median_household_income_Black = ""B19013B_001E"","
"0","    median_household_income_white = ""B19013H_001E"","
"0","    median_household_income_Asian =  ""B19013D_001E"", "
"0","    median_household_income_Hispanic = ""B19013I_001E"", "
"0","    median_value_own_occ = ""B25077_001E"", #"
"0","    ""size_type_update"""
"0","  )"
"0","# Save as a data frame"
"0","census_2019 <- data.frame(census_2019)"
